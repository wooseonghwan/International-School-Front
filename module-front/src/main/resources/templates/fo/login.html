<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/mainLayout}">
<div layout:fragment="contents" th:remove="tag">
    <div class="main-container">
        <div class="sign-head">
            <p class="title">로그인</p>
        </div>
        <div class="sign-form">
            <div class="form-field">
                <div class="form-wrap">
                    <p class="form-title">아이디</p>
                    <input type="text" class="form-control form-lg" placeholder="아이디를 입력해주세요." name="webId"/>
                </div>
            </div>
            <div class="form-field">
                <div class="form-wrap">
                    <p class="form-title">비밀번호</p>
                    <input type="password" class="form-control form-lg" placeholder="비밀번호를 입력해주세요." name="webPw"/>
                </div>
            </div>
            <div class="login-tool">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="flexRadioDefault" id="flexRadioDefault1"/>
                    <label class="form-check-label" for="flexRadioDefault1">아이디 저장</label>
                </div>
                <div class="desc">
                    <div class="find-desc">
                        <a href="" data-bs-toggle="modal" data-bs-target="#modal-find-id">아이디</a>
                        <a href="" data-bs-toggle="modal" data-bs-target="#modal-find-pw">/ 비밀번호 찾기</a>
                    </div>
                    <a href="/fo/signup">회원가입</a>
                </div>
            </div>
            <div class="btn-columns">
                <button type="button" class="btn btn-lg btn-primary" style="background-color: #ff974d;" data-role="login">로그인</button>
                <button type="button" class="btn btn-lg btn-outline-primary" onclick="location.href='/fo/signup'" >회원가입</button>
            </div>
        </div>
    </div>
    <!-- modal: 아이디 찾기 -->
    <div class="modal" tabindex="-1" id="modal-find-id">
        <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">아이디 찾기</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="sign-form">
                        <div class="form-field">
                            <div class="form-wrap">
                                <p class="form-title">*이름</p>
                                <input type="text" class="form-control form-lg" placeholder="" />
                            </div>
                            <!-- <div class="invalid-feedback">
                          <i class="icon-error"></i> 이름이 일치하지 않습니다. 다시
                          시도해주세요.
                        </div> -->
                        </div>
                        <div class="form-field">
                            <div class="form-wrap">
                                <p class="form-title">*카드 아이디 번호</p>
                                <input type="text" class="form-control form-lg" placeholder="" />
                            </div>
                            <!-- <div class="invalid-feedback">
                          <i class="icon-error"></i> 카드 아이디가 일치하지 않습니다. 다시
                          시도해주세요.
                        </div> -->
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="btn-columns">
                        <button type="button" class="btn btn-lg btn-primary" style="background-color: #ff974d;">확인</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- modal: 아이디 찾기 완료 -->
    <div class="modal" tabindex="-1" id="modal-id-success">
        <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">아이디 찾기</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="sign-form">
                        <div class="success-form">
                            <p class="title">아이디</p>
                            <p class="result-txt">kljsfkjlksj</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="btn-columns">
                        <button type="button" class="btn btn-lg btn-primary" style="background-color: #ff974d;">확인</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- modal: 비밀번호 찾기 -->
    <div class="modal" tabindex="-1" id="modal-find-pw">
        <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">비밀번호 찾기</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="sign-form">
                        <div class="form-field">
                            <div class="form-wrap">
                                <p class="form-title">*아이디</p>
                                <input type="text" class="form-control form-lg" placeholder="" />
                            </div>
                            <!-- <div class="invalid-feedback">
                          <i class="icon-error"></i> 아이디가 일치하지 않습니다. 다시
                          시도해주세요.
                        </div> -->
                        </div>
                        <div class="form-field">
                            <div class="form-wrap">
                                <p class="form-title">*이름</p>
                                <input type="text" class="form-control form-lg" placeholder="" />
                            </div>
                            <!-- <div class="invalid-feedback">
                          <i class="icon-error"></i> 이름이 일치하지 않습니다. 다시
                          시도해주세요.
                        </div> -->
                        </div>
                        <div class="form-field">
                            <div class="form-wrap">
                                <p class="form-title">*카드 아이디 번호</p>
                                <input type="text" class="form-control form-lg" placeholder="" />
                            </div>
                            <!-- <div class="invalid-feedback">
                          <i class="icon-error"></i> 카드 아이디가 일치하지 않습니다. 다시
                          시도해주세요.
                        </div> -->
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="btn-columns">
                        <button type="button" class="btn btn-lg btn-primary" style="background-color: #ff974d;">확인</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- modal: 비밀번호 찾기 완료 -->
    <div class="modal" tabindex="-1" id="modal-pw-success">
        <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">비밀번호 찾기</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="sign-form">
                        <div class="success-form">
                            <p class="title">비밀번호</p>
                            <p class="result-txt">kljsfkjlksj</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="btn-columns">
                        <button type="button" class="btn btn-lg btn-primary" style="background-color: #ff974d;">확인</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $('[data-role="login"]').on('click', function () {
            const webId = $.trim($('input[name="webId"]').val());
            const webPw = $.trim($('input[name="webPw"]').val());

            if (!webId || !webPw) {
                alert('아이디와 비밀번호를 모두 입력해주세요.');
                return;
            }

            $.ajax({
                url: '/fo/login-check',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ webId, webPw }),
                success: function (res) {
                    if (res.result === true) {
                        location.href = '/fo/main1'; // 로그인 후 이동할 경로
                    } else {
                        alert(res.message || '아이디 또는 비밀번호가 올바르지 않습니다.');
                    }
                },
                error: function () {
                    alert('로그인 중 오류가 발생했습니다.');
                }
            });
        });

    </script>
</div>
</html>